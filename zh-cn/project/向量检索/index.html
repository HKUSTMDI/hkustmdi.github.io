<!DOCTYPE html>

<html lang="en" dir="ltr"
  prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# "
  class=" js">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <link rel="canonical" href="https://hkust.edu.hk/academics">
  <meta name="Generator" content="Drupal 8 (https://www.drupal.org)">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="https://hkust.edu.hk/sites/default/files/HKUST_1.ico" type="image/vnd.microsoft.icon">
  <link rel="alternate" hreflang="en" href="https://hkust.edu.hk/academics">
  <link rel="alternate" hreflang="zh-hant" href="https://hkust.edu.hk/zh-hant/academics">
  <link rel="alternate" hreflang="zh-hans" href="https://hkust.edu.hk/zh-hans/academics">
  <link rel="revision" href="https://hkust.edu.hk/academics">
  <script type="text/javascript" async="" src="/product_files/analytics.js"></script>
  <script type="text/javascript" async="" src="/product_files/js"></script>
  <script src="/product_files/hm.js"></script>
  <script src="/product_files/optimize.js"></script>
  <script src="/product_files/gtm.js" async=""></script>
  <script src="/product_files/google_tag.script.js"></script>
  <link href="/product_files/styles.css" rel="stylesheet">
  <script src="/product_files/script.js"></script>
  <script async="" src="/product_files/hotjar-2207042.js"></script>

  <title>Product</title>
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://hkust.edu.hk/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://hkust.edu.hk/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://hkust.edu.hk/favicon-16x16.png">
  <link rel="manifest" href="https://hkust.edu.hk/site.webmanifest">
  <link rel="mask-icon" href="https://hkust.edu.hk/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="stylesheet" media="all" href="/product_files/css_SCNtABHhcbt_Ex1Riukc_DDWd7Noh5YrFdploZMq0gI.css">
  <link rel="stylesheet" media="all" href="/product_files/css_CaiDd9llsfbyGVkmWdXyT0inoK4Meo6Bhj0JS0LUbN8.css">
  
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)'], ['$', '$']]                  
    },
    loader:{
      load: ['ui/safe']
    },
  };
</script>
  

  

  <style type="text/css">
    *[data-v-5928e1c7] {
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
    }

    .fullscreen-v-img[data-v-5928e1c7] {
      z-index: 9999;
      height: 100%;
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      overflow: hidden;
      background-color: rgba(0, 0, 0, 0.7);
      -ms-touch-action: none;
      touch-action: none;
    }

    .content-v-img img[data-v-5928e1c7] {
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      margin: auto;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    .header-v-img[data-v-5928e1c7],
    .footer-v-img[data-v-5928e1c7] {
      position: absolute;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.3);
      height: 50px;
      z-index: 9999;
      display: flex;
      align-items: center;
    }

    .header-v-img[data-v-5928e1c7] {
      justify-content: space-between;
    }

    .footer-v-img[data-v-5928e1c7] {
      bottom: 0;
      justify-content: center;
      height: 70px;
       
      overflow-x: auto;
    }

    .footer-v-img img[data-v-5928e1c7] {
      width: 60px;
      height: 60px;
      cursor: pointer;
      -webkit-transition: transform 0.2s ease-out;
      transition: transform 0.2s ease-out;
      object-fit: cover;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    .footer-v-img img.is-selected[data-v-5928e1c7] {
      transform: scale(1.1);
    }

    .footer-v-img img[data-v-5928e1c7]:not(:last-child) {
      margin-right: 7px;
    }

    .title-v-img[data-v-5928e1c7] {
      font-family: 'Avenir', Helvetica, Arial, sans-serif;
      font-size: 18px;
      font-weight: 400;
      color: white;
      text-align: center;
      max-height: 100%;
      overflow: auto;
    }

    .count-v-img[data-v-5928e1c7],
    .buttons-v-img[data-v-5928e1c7] {
      width: 80px;
      font-family: 'Avenir', Helvetica, Arial, sans-serif;
    }

    .count-v-img[data-v-5928e1c7] {
      font-size: 15px;
      color: white;
      margin-left: 10px;
    }

    .buttons-v-img[data-v-5928e1c7] {
      margin-right: 10px;
      text-align: right;
    }

    .buttons-v-img span path[data-v-5928e1c7] {
      fill: #e5e6eb;
      -webkit-transition: fill 0.4s ease-in-out;
      transition: fill 0.4s ease-in-out;
    }

    .buttons-v-img span[data-v-5928e1c7] {
      cursor: pointer;
      color: #e5e6eb;
      font-size: 30px;
      -webkit-transition: color 0.4s ease-in-out;
      transition: color 0.4s ease-in-out;
      text-decoration: none;
      text-align: center;
    }

    .buttons-v-img span[data-v-5928e1c7]:not(:last-child) {
      margin-right: 8px;
    }

    .buttons-v-img span svg[data-v-5928e1c7] {
      height: 20px;
      width: 15px;
    }

    .buttons-v-img span:hover svg path[data-v-5928e1c7] {
      fill: white;
    }

    .buttons-v-img span[data-v-5928e1c7]:hover {
      color: white;
    }

    .prev-v-img svg[data-v-5928e1c7],
    .next-v-img svg[data-v-5928e1c7] {
      margin: 5px auto;
    }

    .prev-v-img[data-v-5928e1c7],
    .next-v-img[data-v-5928e1c7] {
      color: white;
      width: 35px;
      height: 35px;
      position: absolute;
      top: 50%;
      margin-top: -12.5px;
      font-size: 15px;
      font-family: 'Avenir', Helvetica, Arial, sans-serif;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.3);
      z-index: 1000;
      opacity: 0.3;
      -webkit-transition: opacity 0.3s ease-in-out;
      transition: opacity 0.3s ease-in-out;
      cursor: pointer;
    }

    .prev-v-img[data-v-5928e1c7]:hover,
    .next-v-img[data-v-5928e1c7]:hover {
      opacity: 1;
    }

    .prev-v-img[data-v-5928e1c7] {
      left: 10px;
    }

    .next-v-img[data-v-5928e1c7] {
      right: 10px;
    }

    .v-img-fade-enter[data-v-5928e1c7],
    .v-img-fade-leave-to[data-v-5928e1c7] {
      opacity: 0;
    }

    .v-img-fade-enter-active[data-v-5928e1c7],
    .v-img-fade-leave-active[data-v-5928e1c7] {
      -webkit-transition: opacity 0.3s ease-in-out;
      transition: opacity 0.3s ease-in-out;
    }

     
    .modal {
      display: none;
       
      position: fixed;
       
      z-index: 1;
       
      left: 0;
      top: 0;
      width: 100%;
       
      height: 100%;
       
      background-color: rgba(0, 0, 0, 0.4);
       
    }

     
    .modal-content {
      background-color: #002e5d;
      margin: 15% auto;
       
      padding: 20px;
      border: 1px solid #888;
      width: 60%;
       
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
    }

     
    .close {
      position: absolute;
       
      top: 10px;
       
      right: 20px;
       
      color: #aaa;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover,
    .close:focus {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }

    .separator {
      width: 2px;
       
      height: 150px;
       
      background-color: rgb(103, 86, 91);
       
      margin: 5px 30px;
       
    }

     
    .modal-body {
      display: flex;
      align-items: center;
    }

    .qr-code {
      width: 150px;
      height: 150px;
       
    }

    .contact-info {
      max-width: 60%;
    }

    .contact-info h2 {
      font-size: 20px;
      margin-bottom: 15px;
      color: white;
    }

    .contact-info p {
      font-size: 16px;
      margin-bottom: 10px;
    }

    .stats-container {
       
      padding: 20px;
      text-align: right;
       
      position: relative;
      color: white;
    }

    .stats-content {
      background-color: #59544f;
       
      border-radius: 50px;
      padding: 15px 140px;
      display: flex;
      justify-content: space-between;
       
      align-items: center;
       
      max-width: 800px;
      margin: 0 auto;
       
    }

    .stat {
      text-align: center;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      display: block;
    }

    .stat-text {
      font-size: 1.1rem;
    }

    .note {
      font-size: 0.9rem;
      position: absolute;
      top: 10px;
      right: 20px;
      color: white;
    }

    .footer-wrap .footer-copyright {
      height: 45px;
      padding: 0.18rem 0 0.2rem;
      background-color: #926F34;
      position: relative;
        bottom: 0px;
        width: 100%;
    }

    .footer-wrap .footer-copyright-wrap {


      display: flex;
      justify-content: space-evenly;
      align-items: center;
       
      flex-direction: row;
    }

    .footer-wrap .footer-copyright-wrap .logo-simple {
      display: block;
      width: 2rem;
      margin-right: 0.6rem;
    }

    .footer-wrap .footer-copyright-wrap .logo-simple img {
       
      max-width: 800%;
      object-fit: contain;
    }

    .footer-wrap .footer-copyright-wrap .copyright-boy {
      font-size: 1rem;
      line-height: 0.86rem;
      color: #fff;
    }

    .footer-wrap .footer-copyright-wrap .privacy {
      display: flex;
      margin-bottom: 5px;
    }

    .footer-wrap .footer-copyright-wrap .privacy span {
      padding: 0 0.1rem;
    }

    .footer-wrap .footer-copyright-wrap .privacy a:hover {
      text-decoration: underline;
    }

    .footer-wrap .footer-copyright-wrap .copyright {
      opacity: 0.8;
    }

    @media screen and (max-width: 1200px) {
      .footer-wrap .footer-menu-wrap {
        margin-top: 0;
      }

      .footer-wrap .footer-content-wrap {
        padding: 44px 0 52px;
      }

      .footer-wrap .footer-content-box {
        display: block;
        width: 100%;
      }

      .footer-wrap .footer-content-left {
        display: block;
        margin-right: 0;
      }

      .footer-wrap .footer-logo {
        display: none;
      }

      .footer-wrap .subcribe-to {
        min-width: 208px;
        width: 60%;
        margin: 0 auto;
      }

      .footer-wrap .subcribe-to h5 {
        font-size: 14px;
        line-height: 18px;
        text-align: center;
        padding-bottom: 16px;
      }

      .footer-wrap .subcribe-to h5 br {
        display: none;
      }

      .footer-wrap .subcribe-to .button-wrap {
        padding-top: 0;
        margin-top: 20px;
      }

      .footer-wrap .subcribe-to .footer-input {
        font-size: 12px;
        height: 28px;
        padding: 6px;
        line-height: 28px;
      }

      .footer-wrap .subcribe-to .footer-button {
        font-size: 12px;
        height: 28px;
        line-height: 26px;
        color: #fff;
        margin-top: 12px;
      }

      .footer-wrap .social-share {
        display: block;
        padding-bottom: 36px;
        margin: 30px 16px 0;
      }

      .footer-wrap .social-share h6 {
        padding-right: 0;
        font-size: 16px;
        text-align: center;
        line-height: 18px;
      }

      .footer-wrap .social-share .social-share-wrap {
        margin: 16px auto 0;
        justify-content: center;
        width: 80%;
      }

      .footer-wrap .social-share .item {
        width: 32px;
        margin: 0 5px;
      }

      .footer-wrap .footer-menu-box {
        padding-top: 36px;
        margin: 0 16px;
      }

      .footer-wrap .footer-menu-box .menu-wrapper {
        width: 80%;
        margin: 0 auto;
      }

      .footer-wrap .footer-menu-box .menu,
      .footer-wrap .footer-menu-box .menu>ul {
        flex-wrap: wrap;
        font-size: 12px;
        line-height: 16px;
      }

      .footer-wrap .footer-menu-box .menu>li,
      .footer-wrap .footer-menu-box .menu>ul>li {
        padding-right: 10px;
        margin-bottom: 20px;
        margin-top: 20px;
      }

      .footer-wrap .footer-menu-box .menu>li ul,
      .footer-wrap .footer-menu-box .menu>ul>li ul {
        margin-top: 10px;
      }

      .footer-wrap .footer-menu-box .menu>li li,
      .footer-wrap .footer-menu-box .menu>ul>li li {
        margin-bottom: 4px;
      }

      .footer-wrap .footer-copyright {
        padding: 20px 0 22px;
        
        
      }

      .footer-wrap .footer-copyright-wrap {
        display: block;
        width: 80%;
        margin: 0 auto;
      }

      .footer-wrap .footer-copyright-wrap .logo-simple {
        width: 140px;
        margin: 0 auto;
      }

      .footer-wrap .footer-copyright-wrap .copyright-boy {
        margin-top: 10px;
        font-size: 12px;
        line-height: 1.5;
        text-align: center;
      }

      .footer-wrap .footer-copyright-wrap .privacy {
        margin-bottom: 16px;
        font-size: 16px;
        justify-content: center;
      }

      .footer-wrap .footer-copyright-wrap .privacy span {
        padding: 0 5px;
      }
    }
  </style>
  <script async="" src="/product_files/modules.8da33a8f469c3b5ffcec.js" charset="utf-8"></script>
</head>

<body id="node-1646" class="path-node page-node-type-landing-page" data-new-gr-c-s-check-loaded="14.1193.0"
  data-gr-ext-installed="">
  <a href="https://hkust.edu.hk/academics#main-content" class="visually-hidden focusable skip-link">
    Skip to main content
  </a>
  <noscript aria-hidden="true"><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WHMRJV7" height="0"
      width="0" title="Google Tag Manager"></iframe></noscript>

  <h1 style="font-size:0" aria-label="Academics | The Hong Kong University of Science and Technology">Academics | The
    Hong Kong University of Science and Technology</h1>
  <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas="">
    <div class="layout-container">
      <header role="banner">
        <div class="branding">
          <div class="wrapper">
            <div class="region region-header">
              <div id="block-hkustmainheaderblock" class="block block-hkust-main-signature block-header-block">
                <div class="wrapper">


                  <div class="block-body ">
                    <div class="header-data-pc fade-bg">
                      <div id="header">
                        <div class="site-header-content clearfix">

                        </div>
                      </div>

                      
                    <div id="main-menu">
                      <div class="main-menu clearfix" style="height: 81px;">
                        <div class="logo-wrapepr">
                          <div class="site-logo">
                            <a href="/">
                              <img alt="HKUST Logo" class="destop-logo" src="/product_files/med_logo_cn.png">
                              <img alt="HKUST Logo" class="destop-logo-translate" src="/product_files/HKUST-logo-White_0.svg">
                            </a>
                          </div>
                        </div>
                        <div class="menu">
                          <ul class="menu-lists" style="text-transform: uppercase;">
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="/zh-cn/" class="has-sub-menu">主页</a>
                            </li>
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="/zh-cn/people/" class="has-sub-menu">团队</a>
                            </li>
                            
                            <li class="parent-item"
                                style="border-bottom:4px solid #00153f;"
                            >
                              <a target="_self" href="/zh-cn/project/" class="has-sub-menu">项目</a>
                            </li>
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="/zh-cn/collaboration/" class="has-sub-menu">合作</a>
                            </li>
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="/zh-cn/dataset/" class="has-sub-menu">数据集</a>
                            </li>
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="https://github.com/HKUSTMDI" class="has-sub-menu">开源</a>
                            </li>
                            
                            <li class="parent-item"
                                
                            >
                              <a target="_self" href="#contactModal" class="has-sub-menu">联系我们</a>
                            </li>
                            
                    
                            
                              <li class="parent-item"><a class="has-sub-menu" href="/en">English</a></li>
                                            
                            
                          </ul>
                        </div>
                      </div>
                    </div>
                      
                  </div>
                    <div id="contactModal" class="modal">
                      
                      <div class="modal-content">
                        <span class="close">&times;</span>
                        <div class="modal-body">
                          <img src="/collaborate/contact_qr.png" alt="QR Code" class="qr-code">
                          <div class="separator"></div>
                          <div class="contact-info">
                            <h2>香港科技大学(广州)- 安必平</h2>
                            <h2>医疗数据智能联合实验中心</h2>
                            <p>HKUST(GZ)-LBP</p>
                            <p>Medical Data Intelligence Joint-Lab</p>
                            <p>mdi.hkust-gz.edu.cn</p>
                            <p>Contact us: cao@ust.hk</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <script>
                      
                      var modal = document.getElementById("contactModal");

                      
                      var btn = document.querySelector('a[href="#contactModal"]');

                      
                      var span = document.getElementsByClassName("close")[0];

                      
                      btn.onclick = function (event) {
                        event.preventDefault(); 
                        modal.style.display = "block";
                      }

                      
                      span.onclick = function () {
                        modal.style.display = "none";
                      }

                      
                      window.onclick = function (event) {
                        if (event.target == modal) {
                          modal.style.display = "none";
                        }
                      }
                    </script>
                   

                  </div>
                </div>
              </div>


            </div>

          </div>
        </div>
      </header>




    </div>

  </div>
  <style>
    .container {
      font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;

      max-width: 900px;
      margin: 0 auto;
      background-color: white;
      padding: 20px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      min-height: 86vh;
      
    }
    .sub-title {
            color: #3498db;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .main-title {
            font-size: 28px;
            font-weight: bold;
            color: #002b7f;
            margin-bottom: 20px;
        }

         
        .image-container {
          display: none;
            text-align: center;
            margin-bottom: 20px;
        }

        .image-container img {
            max-width: 50%;
            height: auto;
            border-radius: 8px;
        }
    .intro-text {
      font-size: 18px;
      margin-bottom: 20px;
      text-align: justify;
    }

    .intro-text .dropcap {
      font-size: 60px;
      line-height: 50px;
      float: left;
      margin-right: 10px;
      font-weight: bold;
      color: #002b7f;
    }

    .highlight {
      font-weight: bold;
      color: #002b7f;
    }

    h2 {
      color: #002b7f;
      font-size: 24px;
      margin-top: 40px;
    }

    p {
      margin-bottom: 20px;
    }
    .breadcrumb {
          margin-top: 20px;
          font-size: 14px;
          color: white;
          text-align: right;
      }

      .breadcrumb a {
          color: #333;
          text-decoration: none;
      }

  </style>
<div class="container">
  <div class="breadcrumb" >
    <a href="/zh-cn/project">Project &gt;</a> <a href="#">向量检索及GPU加速</a>
</div>
  


<div class="main-title">
  
   向量检索及GPU加速
</div>



  
  <div class="intro-text">
    <span class="dropcap">随</span>
    着人工智能和大数据的快速发展，向量检索已成为图像搜索、推荐系统、自然语言处理等领域的核心技术。在医疗病理学中，每张数字病理切片都蕴含大量微观信息，每段病理分析报告都包含高级语义信息，而现代AI技术（如UNI编码器、MPNet）可将这些图像或文本信息编码为高维向量（如1024维），形成可计算的语义空间，进而利用距离计算实现语义级搜索。向量检索（Vector Retrieval）作为这一过程的核心技术，能够根据相似性快速定位数据库中相似信息，为诊断决策、治疗方案推荐提供支持。然而，当数据规模达到千万甚至亿级时，传统的“暴力搜索”方法（逐一计算所有向量距离）耗时过长，难以满足临床实时性需求。
      
  </div>
<p>因此，<strong>如何高效索引与检索大规模向量数据</strong>成为关键问题。下文将由浅入深介绍向量检索技术，并探讨GPU加速在这一领域的核心价值。</p>
<h2 id="向量检索基础">向量检索基础</h2>
<h3 id="1-数据向量化从非结构化数据到语义空间">1. 数据向量化：从非结构化数据到语义空间</h3>
<p><strong>核心思想</strong>：让计算机“理解”非结构化数据</p>
<p>在医疗病理领域，无论是数字病理切片还是诊断报告文本，本质上都是<strong>非结构化数据</strong>——它们缺乏预定义的格式，但蕴含丰富的语义信息。为了使其可计算，我们需要通过**嵌入模型（Embedding Model）**将这些数据映射到高维向量空间，从而构建可量化的语义表达。</p>
<p><strong>技术实现</strong>：</p>
<ul>
<li>
<p><strong>图像</strong>：使用深度神经网络（如ResNet[3]、ViT[4]）提取病理切片的形态学特征，输出固定长度的向量（例如1024维）。例如，乳腺癌的腺体结构、细胞核异型性等特征会被编码为向量中的特定维度激活值。</p>
</li>
<li>
<p><strong>文本</strong>：通过Transformer模型（如BERT[5]、PubMedBERT[6]）将病理报告转化为向量。报告中“中分化腺癌”“淋巴转移”等关键术语会被编码为语义相近的向量方向。</p>
</li>
</ul>
<p>一个好的嵌入模型应该能够做到对原始数据的语义保留，即<strong>相似病理特征的向量在空间中距离更近</strong>。例如，两张“肺腺癌”切片的向量相似度可能达到0.92，而“肺腺癌”与“肺鳞癌”的相似度可能仅为0.65。这里衡量两个向量的“相似度”时，通常采用的是欧氏距离（向量空间中两点的直线距离），此外，也可以选择其他常见的相似度或距离衡量指标如余弦相似度、点积等。</p>
<h3 id="2-相似性搜索从knns到anns的演进">2. <strong>相似性搜索：从KNNS到ANNS的演进</strong></h3>
<p><strong>基本问题</strong>：给定查询向量，如何快速找到库中最相似的Top-K结果？</p>
<h3 id="1传统knns方法的局限性"><strong>（1）传统KNNS方法的局限性</strong></h3>
<p>早期的相似性搜索主要依赖<strong>精确最近邻搜索（K-Nearest Neighbors Search, KNNS）</strong>，其核心思路是通过构建索引结构加速计算，典型方法包括：</p>
<ul>
<li>
<p><strong>KD-Tree[7]</strong>：基于数据维度递归划分空间（如n维向量的每个维度进行中位数或平均值划分），构建二叉树加速区域查询。</p>
</li>
<li>
<p><strong>Ball-Tree[8]</strong>：以超球体划分空间，利用球体间的包含关系快速排除无关区域。</p>
</li>
</ul>
<p><strong>然而，KNNS在医疗大规模数据场景中面临严重瓶颈</strong>：</p>
<ul>
<li>
<p><strong>维度限制</strong>：KD-Tree和Ball-Tree在面对高维向量（如数百维以上）时，会出现**维度灾难[9]，**递归划分和检索效率急剧下降。</p>
</li>
<li>
<p><strong>动态更新缺陷</strong>：KD-Tree或Ball-Tree索引需静态数据支持，而医疗数据库需持续新增病例（如每日新增千例病理切片），由于无法动态插入数据，每次更新索引都需要重建KD-Tree，无法满足实时性需求。</p>
</li>
</ul>
<h3 id="2anns的近似性突破"><strong>（2）ANNS的近似性突破</strong></h3>
<p>为适应大规模高维度向量数据的高效检索，**近似最近邻搜索（Approximate Nearest Neighbor Search, ANNS）**通过可控的精度损失换取效率量级提升。</p>
<p>下文将具体介绍一些通用的主流向量索引技术，包括基于空间划分与量化技术的方法（IVFPQ[10])、基于图的检索方法（NN-Descent[11]、HNSW[12]）、基于GPU加速的检索方法（SONG[13]、CAGRA[14]）。</p>
<h2 id="主流索引技术解析"><strong>主流索引技术解析</strong></h2>
<h3 id="1-ivfpq">1. IVFPQ</h3>
<h4 id="构造过程"><strong>构造过程</strong></h4>
<p>IVFPQ（Inverted File Index with Product Quantization）[10]是一种结合空间划分与向量压缩的高效索引方法，其核心流程分为倒排索引构建（IVF）与乘积量化（PQ）两个阶段：</p>
<h4 id="1倒排索引构建ivf"><strong>（1）倒排索引构建（IVF）</strong></h4>
<img src="/product_files/vector_retrieval/IVF.png" alt="image-20250321103910930" style="zoom:30%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">   图1：倒排文件索引示例 </div>
<p>为了更好理解，下面以一个文档查询关键词的例子来说明IVF的作用，以图1左半部分为例，现有一堆文档，Document1、2、3、4，每个文档会有不同的单词内容，我们想要检索某个单词在哪些文档中出现过，比如dog，如果按一般逻辑去检索的话，要对每个文档的每个单词进行遍历，对每个单词进行判断是不是dog，来检查对应文档是不是包含dog，这种做法显然是很耗时的，极端情况下需要把所有文档所有单词都遍历一遍。</p>
<p>IVF就是换了一种思路，我们事先统计出来哪些单词存放在哪些文档里面，例如图1右半部分，我们记录每个单词对应了哪些文档，这样检索的时候只需要去找到这个单词的位置，就可以知道他在哪些文档里出现过，由于词表的长度往往比所有文档的长度要短，因此可以节省检索时间。</p>
<p>具体到向量检索场景中，基本的流程如下：</p>
<p><strong>1. 聚类中心生成</strong>：使用K-Means算法对全量向量数据集$\mathcal{D} = {v_1, v_2, &hellip;, v_n}$进行聚类，生成$n_{\text{list}}$个簇中心$C = {c_1, c_2, &hellip;, c_{n_{\text{list}}}}$ 。</p>
<p><strong>2. 倒排列表构建</strong>：对每个簇中心$ c_i $，记录其对应的成员向量集合$ \mathcal{L}_i = {v_j | \arg\min_k |v_j - c_k|_2 = i} $，形成倒排列表结构。</p>
<p><strong>3. 参数意义</strong>：$ n_{\text{list}} $控制粗粒度聚类数量，其值越大则检索精度越高，但计算成本随之增加（默认值通常为1024）。</p>
<h4 id="2乘积量化pq"><strong>（2）乘积量化（PQ）</strong></h4>
<img src="/product_files/vector_retrieval/PQ.png" alt="image-20250321103910930" style="zoom:20%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">   图2：乘积量化示例图 </div>
<p>乘积量化的主要目的是为了减少内存占用，因为如果有非常多的向量的话，占用的内存也会很多，该方法是为了减少内存占用设计的，参考图2，具体的做法如下：</p>
<p><strong>1. 向量分块</strong>：将原始向量$ v \in \mathbb{R}^d $划分为$ M $个子向量块$ v = [v^{(1)}, v^{(2)}, &hellip;, v^{(M)}] $，每块维度为$ d/M $。</p>
<p><strong>2. 子空间量化</strong>：对所有子空间$ \mathbb{R}^{d/M} $统一进行K-Means聚类，生成码本$ \mathcal{B}<em>m = {b</em>{m,1}, b_{m,2}, &hellip;, b_{m,2^x}} $，其中$ x $为码本比特数（通常$ x=8 $, $ 2^x=256 $）。</p>
<p><strong>3. 编码压缩</strong>：将原始向量$ v $替换为各子块对应的簇ID编码$ \text{code}(v) = [k_1, k_2, &hellip;, k_M] $，其中$ k_m = \arg\min_j |v^{(m)} - b_{m,j}|_2 $。</p>
<h4 id="内存优化分析"><strong>内存优化分析</strong></h4>
<p>量化后总存储量由两部分构成：</p>
<ul>
<li>
<p><strong>码本存储</strong>：$ M \times 2^x \times \frac{d}{M} \times \text{float32} = 2^x d \times \text{float32} $。</p>
</li>
<li>
<p><strong>编码存储</strong>：$ n \times M \times x \text{ bits} $。</p>
</li>
</ul>
<p>以$ d=1024 $, $ M=8 $, $ x=8 $为例，原始存储需$ 1024 \times 4 = 4096 $字节/向量，而PQ压缩后仅需$ 8 \times 8 = 64 $比特（8字节），压缩率高达512倍。</p>
<h4 id="检索机制"><strong>检索机制</strong></h4>
<p><strong>1. 粗粒度筛选（IVF阶段）</strong>：计算查询向量$ q $与所有簇中心$ c_i $的距离，选取最近邻的$ n_{\text{probe}} $个簇。</p>
<p><strong>2. 细粒度计算（PQ阶段）</strong>：对候选簇$ \mathcal{L}*i $中的每个向量$ v_j $，利用预计算码本进行快速距离估计：</p>
<p>$$
\hat{d}(q, v_j) = \sum_{m=1}^M | q^{(m)} - b_{m, k_j^{(m)}} |_2^2
$$</p>
<p>其中$ q^{(m)} $为查询向量的第$ m $个子块，$ b_{m, k_j^{(m)}} $为$ v_j $第$ m $子块对应的码本中心。</p>
<p><strong>3. Top-K排序</strong>：按计算距离升序排序，返回全局前$ K $个最近邻向量。</p>
<h3 id="2-nn-descent">2. NN-Descent</h3>
<h4 id="构造过程-1"><strong>构造过程</strong></h4>
<p>NN-Descent（Nearest Neighbor Descent）[11]是一种基于局部图结构优化的近似近邻搜索算法，其核心思想是通过迭代优化动态调整邻居关系，逐步逼近真实$K$近邻图。其构造过程可形式化描述如下：</p>
<h4 id="1图初始化"><strong>（1）图初始化</strong></h4>
<p><strong>1. 随机邻居采样</strong>：对每个数据点$v_i \in \mathcal{D}$，随机选择$K$个初始邻居$N^{(0)}(v_i)$，构建初始有向近邻图$G_0$。</p>
<p><strong>2. 反向邻居索引</strong>：同时记录反向邻居关系$R(v_i) = {v_j | v_i \in N^{(0)}(v_j)}$，形成双向连接结构。</p>
<h4 id="2迭代优化"><strong>（2）迭代优化</strong></h4>
<img src  ="/product_files/vector_retrieval/NNdescent.png" style="zoom:30%;display: block; margin-left: auto; margin-right: auto;"/>
<div align="center">   图3：迭代优化示意图 </div>
<p>在第$t$次迭代中，通过反向邻居传递与三角闭包性质优化邻居关系，以图3为例，在某一次迭代过程中，我们对a点，找到他所有的邻居和反向邻居，也就是b、c和d，然后对于其中的点c，再对c找他的所有邻居和反向邻居，也就是e和d，这时候我们计算a到e的距离，如果a和e的距离比从a到c再到e的距离短的话，便更新这个图，把ae连起来，具体的算法过程如下：</p>
<p><strong>1. 候选集生成</strong>：</p>
<p>对点$v_i$，合并其邻居与反向邻居生成候选集：<br>
$$
\mathcal{C}(v_i) = N^{(t)}(v_i) \cup \bigcup_{v_j \in N^{(t)}(v_i)} R(v_j)
$$</p>
<p><strong>2. 局部距离计算</strong>：</p>
<p>计算$v_i$与$\mathcal{C}(v_i)$中所有候选点的距离，并筛选出距离更近的潜在邻居。</p>
<p><strong>3. 邻居更新</strong>：</p>
<p>对每个$v_j \in \mathcal{C}(v_i)$，若$d(v_i, v_j) &lt; \max_{v_k \in N^{(t)}(v_i)} d(v_i, v_k)$，则将$v_j$加入新邻居集$N^{(t+1)}(v_i)$。</p>
<p><strong>4. 度数约束</strong>：</p>
<p>保留每个点$v_i$的前$K$个最近邻居，其余连接剪枝移除。</p>
<h4 id="3收敛条件"><strong>（3）收敛条件</strong></h4>
<p>当满足以下条件之一时终止迭代：</p>
<ul>
<li>
<p>邻居更新比例低于阈值$\epsilon$（如$\epsilon=0.01$）</p>
</li>
<li>
<p>达到预设最大迭代次数$T_{\max}$（如$T_{\max}=20$）</p>
</li>
</ul>
<h4 id="检索机制-1"><strong>检索机制</strong></h4>
<p>在构建完成的近邻图上，采用以下策略实现高效搜索：</p>
<p><strong>1. 多起点并行搜索</strong>：</p>
<p>从随机选取的$L$个起始点（如$L=50$）出发，并行执行贪婪爬山算法。</p>
<p><strong>2. 动态候选列表维护</strong>：</p>
<p>对每个搜索路径，维护动态候选队列$\mathcal{Q}$，按距离排序保留前$K$个候选点。</p>
<p><strong>3. 邻居扩展策略</strong>：</p>
<p>对当前最近点$v_{\text{curr}}$，将其邻居集$N(v_{\text{curr}})$加入$\mathcal{Q}$，并更新距离排序。</p>
<p><strong>4. 终止条件</strong>：</p>
<p>当候选队列$\mathcal{Q}$中的最小距离连续$\tau$次迭代（如$\tau=3$）未更新时终止搜索。</p>
<h4 id="数学建模"><strong>数学建模</strong></h4>
<p>设数据集$\mathcal{D}$中任意两点的距离为$d(v_i, v_j)$，算法通过最小化以下目标函数逼近真实K近邻图：<br>
$$
\mathcal{L}(G) = \sum_{v_i \in \mathcal{D}} \sum_{v_j \in N(v_i)} d(v_i, v_j)
$$
迭代优化过程可视为在局部区域内执行梯度下降，逐步降低$\mathcal{L}(G)$。</p>
<h3 id="3-hnsw">3. HNSW</h3>
<h4 id="构造过程-2"><strong>构造过程</strong></h4>
<p>HNSW（Hierarchical Navigable Small World）[12]是一种结合分层结构与可导航小世界图的高效索引方法，其核心设计灵感来源于自然界的蜂巢式网络与人类社交网络的多层拓扑特性。算法通过构建层级递减的图结构实现搜索路径的指数级缩短，具体流程如下：</p>
<h5 id="1层级化图结构生成"><strong>（1）层级化图结构生成</strong></h5>
<img src="/product_files/vector_retrieval/HNSW.png" alt="image-20250321103910930" style="zoom:30%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">   图4：HNSW层级结构示意图（假设最高层L=3，层数从0开始计数) </div>
<p><strong>1. 概率分配层数</strong>：对每个数据点$v_i \in \mathcal{D}$，随机分配最大层数$l_{\max}(v_i)$，满足：
$$
l_{\max}(v_i) = \lfloor -\ln(\text{rand}(0,1)) \cdot m_L \rfloor
$$</p>
<p>其中$m_L$为层间衰减系数（通常取$1/ln(M)$，$M$为每层最大连接数），此分配策略使得高层节点数量呈指数衰减。</p>
<p><strong>2. 分层构建图</strong>：</p>
<ul>
<li>
<p><strong>顶层构建（Layer L）</strong>：仅包含满足$l_{\max}(v_i) \geq L$的节点，构成稀疏连接的小世界图。</p>
</li>
<li>
<p><strong>逐层向下扩展</strong>：在层$l$中，节点包含所有满足$l_{\max}(v_i) \geq l$的节点，且每个节点维护至多$M$条双向边。</p>
</li>
</ul>
<h5 id="2动态插入策略"><strong>（2）动态插入策略</strong></h5>
<p>当新节点$v_{\text{new}}$插入时，按以下规则逐层更新图结构（以层$l$为例）：</p>
<p><strong>1. 搜索当前层入口</strong>：从高层$L$开始，使用贪心算法找到层$l$中距离$v_{\text{new}}$最近的入口点$e_l$。</p>
<p><strong>2. 局部邻域探索</strong>：在层$l$中，以$e_l$为起点，通过优先队列扩展候选集，保留距离$v_{\text{new}}$最近的$ef_{\text{Construction}}$个节点。</p>
<p><strong>3. 连接优化</strong>：从候选集中选择至多$M$个邻居，满足：</p>
<ul>
<li>
<p><strong>距离最近原则</strong>：优先连接距离最近的节点。</p>
</li>
<li>
<p><strong>多样性约束</strong>：避免局部聚集，通过启发式算法选择方向差异较大的边（避免孤岛现象）。</p>
</li>
</ul>
<h4 id="检索机制-2"><strong>检索机制</strong></h4>
<p>HNSW的搜索过程通过<strong>跳表式</strong>的逐层细化策略实现高效导航，具体步骤如下：</p>
<p><strong>1. 顶层入口定位</strong>：从最高层$L$的随机节点出发，执行贪心算法找到该层距离查询$q$最近的节点$e_L$。</p>
<p><strong>2. 逐层下降搜索</strong>：从$e_L$开始，根据层之间的跳表关系，在下一层$e_{L-1}$的邻居中找到距离$q$最近的一个邻居，并作为下一层的输入；</p>
<p><strong>3. 底层精确检索</strong>：在层0中，从入口点$e_0$出发，使用类似NN-Descent的动态候选列表算法：1. 初始化动态列表$\mathcal{C}$，包含$e_0$及其邻居。2. 迭代扩展$\mathcal{C}$，维护前$ef_{\text{Search}}$个最近邻。3. 当连续$\tau$次迭代未更新最近邻时终止，返回Top-K结果。</p>
<h3 id="4-song">4. SONG</h3>
<h4 id="设计动机"><strong>设计动机</strong></h4>
<img src="/product_files/vector_retrieval/SONG1.png" style="zoom:60%;display: block; margin-left: auto; margin-right: auto;"/>
<div align="center">图5：传统基于图的ANNS搜索流程 </div>
<p>基于图的近似最近邻搜索（ANNS）通常依赖<strong>优先级队列、结果堆、访问记录表</strong>三个核心数据结构，其迭代式搜索流程在CPU上表现为串行逻辑：</p>
<p><strong>1. 优先级队列（q）</strong>：维护待扩展的候选节点（按距离排序）</p>
<p><strong>2. 结果堆（TopK）</strong>：保存当前最近的K个结果</p>
<p><strong>3. 访问记录表（Visited）</strong>：标记已访问节点避免重复计算</p>
<p>以图5的搜索过程为例，传统方法需逐轮迭代：从队列中取出最近节点，计算其邻居距离，更新结果堆。然而，<strong>95%的计算时间消耗在高维向量距离计算</strong>（如1024维欧氏距离），而CPU的单线程架构无法并行处理这一过程。即使将查询任务并行化，单个复杂查询仍会阻塞整个流水线。</p>
<h4 id="整体架构">整体架构</h4>
<img src="/product_files/vector_retrieval/SONG2.png" alt="image-20250324112131637" style="zoom:50%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">图6：SONG整体架构 </div>
<p>SONG[13]的核心创新在于<strong>重构搜索流水线</strong>，将串行步骤解耦为GPU友好的三阶段并行任务，如图6所示：</p>
<h4 id="优化设计">优化设计</h4>
<h4 id="1-候选定位candidate-locating"><strong>1. 候选定位（Candidate Locating）</strong></h4>
<ul>
<li>
<p><strong>目标</strong>：从全局显存（Global Memory）中加载候选节点的邻居列表</p>
</li>
<li>
<p><strong>优化策略</strong>：</p>
<ul>
<li>
<p><strong>固定度数图存储</strong>：限制每个节点的邻居数量上限（如64），显存预分配连续空间，避免动态内存开销</p>
</li>
<li>
<p><strong>多查询批量加载</strong>：每个GPU线程组（Warp）同时处理多个查询的候选节点</p>
</li>
</ul>
</li>
</ul>
<h4 id="2-批量距离计算bulk-distance-computation"><strong>2. 批量距离计算（Bulk Distance Computation）</strong></h4>
<ul>
<li>
<p><strong>并行化核心</strong>：将高维向量计算分解为GPU线程级任务</p>
<ul>
<li>
<p><strong>公式</strong>：欧氏距离$d(q,v)=\sqrt{\sum_{i=1}^{d}(q_i-v_i)^2}$被拆分为$d$个并行减法-平方操作，通过Warp内线程协同规约求和</p>
</li>
<li>
<p><strong>显存对齐访问</strong>：同一节点的向量数据连续存储，单次读取128字节（GPU缓存行）</p>
</li>
</ul>
</li>
</ul>
<h4 id="3-数据结构更新data-structure-update"><strong>3. 数据结构更新（Data Structure Update）</strong></h4>
<ul>
<li>
<p><strong>轻量级原子操作</strong>：单个线程负责更新队列、结果堆和访问记录</p>
<ul>
<li>
<p><strong>TopK堆压缩</strong>：仅保留距离最近的K个结果，堆容量固定为$K_{\max}$（如K=100）</p>
</li>
<li>
<p><strong>Cuckoo Filter[15]替代哈希表</strong>：支持动态插入与删除</p>
</li>
</ul>
</li>
</ul>
<h3 id="5-cagra">5. CAGRA</h3>
<img src="/product_files/vector_retrieval/CAGRA.png" alt="image-20250324135129178" style="zoom:50%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">图7：CAGRA图优化流程示意图（左：初始k-NN图；中：秩次重排序；右：反向边增强) </div>
<h4 id="1初始k-nn图构建"><strong>（1）初始k-NN图构建</strong></h4>
<p>采用GPU加速的NN-Descent算法[11]构建基础k-NN图（k=2d~3d），其过程与CPU版NN-Descent存在关键差异：</p>
<ul>
<li>
<p><strong>批量反向邻居计算</strong>：</p>
<p>将反向邻居关系$R(v_i)$的计算转化为GPU友好的矩阵转置操作，利用共享内存（Shared Memory）加速原子操作。以d=64为例，单次迭代可并行处理$10^6$节点的反向关系更新。</p>
</li>
<li>
<p><strong>动态内存预分配</strong>：</p>
<p>显存预分配策略消除动态扩展开销，每个节点维护固定容量（如128）的候选队列，超出部分截断处理。</p>
</li>
</ul>
<h4 id="2图结构优化"><strong>（2）图结构优化</strong></h4>
<p>在初始k-NN图上执行两级优化以提升搜索效率：</p>
<p><strong>1. 基于秩的重排序</strong>：</p>
<p>对每个节点$v_i$的邻居列表$N(v_i)$，按原始距离排序生成秩次（rank），将低秩边（重要连接）前移。该操作在GPU上实现完全并行化，单卡可在1秒内完成百万级节点的秩次重排。</p>
<p><strong>2. 反向边增强</strong>：</p>
<p>为提升图连通性，对每条边$v_i → v_j$添加反向边$v_j → v_i$，但限制各节点出度不超过d（默认d=64）。反向边按源节点秩次动态截断，确保显存访问连续性。</p>
<h4 id="检索机制-3">检索机制</h4>
<img src="/product_files/vector_retrieval/CAGRA2.png" alt="image-20250324135335876" style="zoom:40%;display: block; margin-left: auto; margin-right: auto;" />
<div align="center">图8：CAGRA搜索流程</div>
<p>CAGRA[14]的检索流程针对GPU架构进行了系统性重构，其核心突破在于<strong>全流水线并行化</strong>与<strong>动态候选缓冲机制</strong>的设计。与HNSW等层次化图索引不同，CAGRA放弃逐层递进的串行路径优化策略，转而通过<strong>广度优先的并行扩展</strong>提升GPU线程利用率，具体实现如下：</p>
<h5 id="1双缓冲架构设计"><strong>（1）双缓冲架构设计</strong></h5>
<p>CAGRA采用<strong>Top-M Buffer</strong>与<strong>Candidate Buffer</strong>的双层动态缓冲机制（图8，Top-M Buffer有序存储当前最优结果；Candidate Buffer无序存储潜在候选），实现计算与访存的深度解耦：</p>
<ul>
<li>
<p><strong>Top-M Buffer</strong>（有序区）：</p>
<ul>
<li>
<p>容量固定为$M$（如$M=200$），按距离升序排列当前最优候选节点。</p>
</li>
<li>
<p>采用<strong>最小堆</strong>数据结构，插入复杂度$O(\log M)$，支持动态替换。</p>
</li>
</ul>
</li>
<li>
<p><strong>Candidate Buffer</strong>（无序区）：</p>
<ul>
<li>
<p>容量为$E$（扩展因子，如$E=64$），存储新扩展的候选节点。</p>
</li>
<li>
<p>无序设计避免排序开销，通过原子操作实现并行写入。</p>
</li>
</ul>
</li>
</ul>
<h5 id="2并行搜索策略"><strong>（2）并行搜索策略</strong></h5>
<p>在GPU线程束（Warp）级别实现候选节点的批量扩展与距离计算，具体流程如下：</p>
<p><strong>1. 随机种子采样</strong>：每个查询启动时，从全局图中随机选取$E$个节点（如$E=64$）作为初始候选，存入<strong>Candidate Buffer</strong>中。</p>
<p><strong>2. 更新Top_M</strong>：将<strong>Top-M Buffer</strong>与<strong>Candidate Buffer</strong>合并，保留前$M$个最近邻，存入<strong>Top_M Buffer</strong>。</p>
<p><strong>3. 更新Candidate Buffer</strong>：在<strong>Top_M Buffer</strong>中选取没有被访问的离query最近的若干节点的所有邻居，放入<strong>Candidate Buffer</strong>。</p>
<p><strong>4. 计算距离</strong>：计算<strong>Candidate Buffer</strong>中节点与query的距离。回到step2，直到计算至收敛（<strong>Top_M Buffer</strong>全部是已访问状态且距离query最近）。</p>
<h2 id="为什么使用gpu加速向量检索">为什么使用GPU加速向量检索？</h2>
<p>在大规模向量检索场景中，传统的CPU架构逐渐显现出性能瓶颈。随着数据规模的指数级增长和向量维度的不断提升，计算复杂度呈爆炸式增长，尤其是高维向量的距离计算成为主要的时间消耗点。而GPU凭借其强大的并行计算能力，为加速向量检索提供了全新的解决方案。</p>
<h3 id="1-gpu的并行计算优势"><strong>1. GPU的并行计算优势</strong></h3>
<p>GPU拥有数千个核心，能够同时处理大量线程任务。对于向量检索中的高维距离计算（如欧氏距离、余弦相似度等），GPU可以将这些计算分解为细粒度的并行任务，每个线程负责计算一个或多个维度的差值与平方操作，随后通过高效的规约操作完成最终求和。这种高度并行化的计算方式使得GPU在处理大规模向量检索时，相比单线程为主的CPU具有显著的速度优势。</p>
<h3 id="2-显存带宽与数据吞吐能力"><strong>2. 显存带宽与数据吞吐能力</strong></h3>
<p>向量检索涉及频繁的向量加载与存储操作，这对内存带宽提出了极高要求。GPU配备了高带宽的显存，能够快速读取和写入大规模向量数据。此外，GPU的显存访问优化机制（如共享内存、缓存对齐访问）进一步提升了数据吞吐效率，减少了因内存延迟导致的性能损失。</p>
<h3 id="3-针对算法的硬件加速"><strong>3. 针对算法的硬件加速</strong></h3>
<p>现代GPU支持专门的数学运算指令集（如CUDA Core、Tensor Core），可以高效执行矩阵运算和向量操作。例如，在批量距离计算阶段，GPU可以利用Warp级别的协作机制，将高维向量的距离计算转化为并行的减法、平方和规约操作，从而实现数十倍甚至上百倍的加速效果。此外，针对特定算法（如乘积量化PQ、图索引搜索），GPU可以通过定制化优化（如固定度数图存储、Cuckoo Filter替代哈希表）进一步提升性能。</p>
<h3 id="4-支持实时性需求"><strong>4. 支持实时性需求</strong></h3>
<p>在医疗病理学、推荐系统等实际应用场景中，向量检索往往需要满足毫秒级甚至微秒级的实时响应需求。GPU的高吞吐能力和低延迟特性使其能够轻松应对千万级甚至亿级向量数据库的实时查询任务。例如，基于GPU的索引方法（如SONG、CAGRA）能够在单次查询中并行处理数百个候选节点，显著缩短了检索时间。</p>
<h3 id="5-灵活性与可扩展性"><strong>5. 灵活性与可扩展性</strong></h3>
<p>GPU不仅适用于单一任务的加速，还可以通过多卡并行扩展进一步提升性能。对于超大规模向量数据集，可以通过分布式GPU集群实现跨节点的协同计算，满足更高的并发需求。此外，GPU的编程框架（如CUDA）提供了灵活的开发接口，使研究人员能够针对特定场景优化算法设计。</p>
<h3 id="总结"><strong>总结</strong></h3>
<p>综上所述，GPU加速已成为向量检索领域的核心技术之一。其卓越的并行计算能力、高效的显存管理机制以及针对算法的硬件优化，使得向量检索在面对海量数据和高维空间时依然能够保持高效性和实时性。无论是学术研究还是工业应用，GPU加速都在推动向量检索技术的快速发展，为人工智能和大数据领域提供了强有力的支持。</p>
<p>[1] Chen, Richard J., et al. &ldquo;Towards a general-purpose foundation model for computational pathology.&rdquo; <em>Nature Medicine</em> 30.3 (2024): 850-862.</p>
<p>[2] Song, Kaitao, et al. &ldquo;Mpnet: Masked and permuted pre-training for language understanding.&rdquo; <em>Advances in neural information processing systems</em> 33 (2020): 16857-16867.</p>
<p>[3] He, Kaiming, et al. &ldquo;Deep residual learning for image recognition.&rdquo; <em>Proceedings of the IEEE conference on computer vision and pattern recognition</em>. 2016.</p>
<p>[4] Dosovitskiy, Alexey, et al. &ldquo;An image is worth 16x16 words: Transformers for image recognition at scale.&rdquo; <em>arXiv preprint arXiv:2010.11929</em> (2020).</p>
<p>[5] Devlin, Jacob, et al. &ldquo;Bert: Pre-training of deep bidirectional transformers for language understanding.&rdquo; <em>Proceedings of the 2019 conference of the North American chapter of the association for computational linguistics: human language technologies, volume 1 (long and short papers)</em>. 2019.</p>
<p>[6] Gu, Yu, et al. &ldquo;Domain-specific language model pretraining for biomedical natural language processing.&rdquo; <em>ACM Transactions on Computing for Healthcare (HEALTH)</em> 3.1 (2021): 1-23.</p>
<p>[7] Bentley, Jon Louis. &ldquo;Multidimensional binary search trees used for associative searching.&rdquo; <em>Communications of the ACM</em> 18.9 (1975): 509-517.</p>
<p>[8] Omohundro, Stephen M. &ldquo;Five balltree construction algorithms.&rdquo; (1989).</p>
<p>[9] Han, Yikun, Chunjiang Liu, and Pengfei Wang. &ldquo;A comprehensive survey on vector database: Storage and retrieval technique, challenge.&rdquo; <em>arXiv preprint arXiv:2310.11703</em> (2023).</p>
<p>[10] Jegou, Herve, Matthijs Douze, and Cordelia Schmid. &ldquo;Product quantization for nearest neighbor search.&rdquo; <em>IEEE transactions on pattern analysis and machine intelligence</em> 33.1 (2010): 117-128.</p>
<p>[11] Dong, Wei, Charikar Moses, and Kai Li. &ldquo;Efficient k-nearest neighbor graph construction for generic similarity measures.&rdquo; <em>Proceedings of the 20th international conference on World wide web</em>. 2011.</p>
<p>[12] Malkov, Yu A., and Dmitry A. Yashunin. &ldquo;Efficient and robust approximate nearest neighbor search using hierarchical navigable small world graphs.&rdquo; <em>IEEE transactions on pattern analysis and machine intelligence</em> 42.4 (2018): 824-836.</p>
<p>[13] Zhao, Weijie, Shulong Tan, and Ping Li. &ldquo;Song: Approximate nearest neighbor search on gpu.&rdquo; <em>2020 IEEE 36th International Conference on Data Engineering (ICDE)</em>. IEEE, 2020.</p>
<p>[14] Ootomo, Hiroyuki, et al. &ldquo;Cagra: Highly parallel graph construction and approximate nearest neighbor search for gpus.&rdquo; <em>2024 IEEE 40th International Conference on Data Engineering (ICDE)</em>. IEEE, 2024.</p>
<p>[15] Fan, Bin, et al. &ldquo;Cuckoo filter: Practically better than bloom.&rdquo; <em>Proceedings of the 10th ACM International on Conference on emerging Networking Experiments and Technologies</em>. 2014.</p>



</div>

</script>

  <script type="application/json"
    data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/1646","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"ajaxPageState":{"libraries":"classy\/node,colorbox\/default,colorbox_inline\/colorbox_inline,core\/html5shiv,hkust\/base,hkust_enhancements\/news,hkust_layouts\/hkust_333333,hkust_layouts\/hkust_container,hkust_layouts\/hkust_fullwidth,hkust_live_chat\/live-chat,hkust_main\/global-styling,hkust_main_components\/hkust_main.footer_menu_block,hkust_main_components\/hkust_main.header_text_block,hkust_main_signature\/hkust_main.block_styles,hkust_main_signature\/hkust_main.site_search_block,hkust_main_text2speech\/audio,hkust_main_wca\/hkust_main.wca,magnific_popup\/magnific_popup,statistics\/drupal.statistics,system\/base,views\/views.module","theme":"hkust_main","theme_token":null},"ajaxTrustedUrl":[],"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px"},"statistics":{"data":{"nid":"1646"},"url":"\/core\/modules\/statistics\/statistics.php"},"language":"en","is_front_page":false,"user":{"uid":0,"permissionsHash":"db8e1e028a675232cbfd7a2857d540a3b87f8fdb5ff6124ca1d46e9d2edaed71"}}</script>
  <script src="/product_files/js_UrQr6ENrLcfw-76GmoVvW51MPj_RUPFzkHiIkTA0854.js"></script>



  <div id="cboxOverlay" style="display: none;"></div>
  <div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;">
    <div id="cboxWrapper">
      <div>
        <div id="cboxTopLeft" style="float: left;"></div>
        <div id="cboxTopCenter" style="float: left;"></div>
        <div id="cboxTopRight" style="float: left;"></div>
      </div>
      <div style="clear: left;">
        <div id="cboxMiddleLeft" style="float: left;"></div>
        <div id="cboxContent" style="float: left;">
          <div id="cboxTitle" style="float: left;"></div>
          <div id="cboxCurrent" style="float: left;"></div><button type="button"
            id="cboxPrevious">previous</button><button type="button" id="cboxNext">next</button><button type="button"
            id="cboxSlideshow">slideshow</button>
          <div id="cboxLoadingOverlay" style="float: left;"></div>
          <div id="cboxLoadingGraphic" style="float: left;"></div>
        </div>
        <div id="cboxMiddleRight" style="float: left;"></div>
      </div>
      <div style="clear: left;">
        <div id="cboxBottomLeft" style="float: left;"></div>
        <div id="cboxBottomCenter" style="float: left;"></div>
        <div id="cboxBottomRight" style="float: left;"></div>
      </div>
    </div>
    <div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div>
  </div><iframe id="_hjSafeContext_48836568" title="_hjSafeContext" tabindex="-1" aria-hidden="true"
    src="/product_files/saved_resource.html"
    style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe>
  <footer class="footer-wrap">
    <div class="footer-copyright">
      <div class="footer-copyright-wrap center-area">
        <a href="https://hkust-gz.edu.cn/" class="logo-simple">
          <img src="/Dataset_files/logo-simple.png" srcset="https://soch.hkust-gz.edu.cn/wp-content/themes/hkust-society-hub/images/common/logo-simple.png 1x,
        https://soch.hkust-gz.edu.cn/wp-content/themes/hkust-society-hub/images/common/logo-simple-2x.png 2x"
            alt="香港科大">
        </a>
        <div class="copyright-boy">
          <div class="copyright">   © 版权属香港科技大学（广州）所有</div>
        </div>
      </div>
    </div>
  </footer>
</body>
<grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>

</html>